(function(t){function e(e){for(var i,s,a=e[0],c=e[1],u=e[2],l=0,m=[];l<a.length;l++)s=a[l],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var a=n[s];0!==r[a]&&(i=!1)}i&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var i={},s={app:0},r={app:0},o=[];function a(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-0e12ea40":"51e87d46","chunk-4752b205":"f46fdfa4","chunk-4a1c2e7c":"1f771646","chunk-69062070":"3ae73c5e","chunk-f39b2ec0":"af08527f"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-0e12ea40":1,"chunk-4752b205":1,"chunk-4a1c2e7c":1,"chunk-69062070":1,"chunk-f39b2ec0":1};s[t]?e.push(s[t]):0!==s[t]&&n[t]&&e.push(s[t]=new Promise((function(e,n){for(var i="css/"+({}[t]||t)+"."+{"chunk-0e12ea40":"bf2da418","chunk-4752b205":"13271be9","chunk-4a1c2e7c":"bf2da418","chunk-69062070":"13271be9","chunk-f39b2ec0":"de7824b5"}[t]+".css",r=c.p+i,o=document.getElementsByTagName("link"),a=0;a<o.length;a++){var u=o[a],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===i||l===r))return e()}var m=document.getElementsByTagName("style");for(a=0;a<m.length;a++){u=m[a],l=u.getAttribute("data-href");if(l===i||l===r)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var i=e&&e.target&&e.target.src||r,o=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete s[t],d.parentNode.removeChild(d),n(o)},d.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){s[t]=0})));var i=r[t];if(0!==i)if(i)e.push(i[2]);else{var o=new Promise((function(e,n){i=r[t]=[e,n]}));e.push(i[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=a(t);var m=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;m.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",m.name="ChunkLoadError",m.type=i,m.request=s,n[1](m)}r[t]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(n,i,function(e){return t[e]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var m=0;m<u.length;m++)e(u[m]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"00ed":function(t,e,n){t.exports=n.p+"img/previous-song.8d341d74.svg"},"034f":function(t,e,n){"use strict";n("1fb7")},"0687":function(t,e,n){t.exports=n.p+"img/default-album-img.f87c9596.jpg"},1150:function(t,e,n){t.exports=n.p+"img/lyric_blur.ae190f66.svg"},"11fd":function(t,e,n){t.exports=n.p+"img/list-forward.749c1e94.svg"},"136e":function(t,e,n){},"1f46":function(t,e,n){},"1fb7":function(t,e,n){},"2b47":function(t,e,n){t.exports=n.p+"img/lyric.5f1433d5.svg"},"2ed1":function(t,e,n){"use strict";n("e798")},"2ef4":function(t,e,n){t.exports=n.p+"img/list-cycle.a0ac47d1.svg"},3065:function(t,e,n){t.exports=n.p+"img/single-cycle.b7237c74.svg"},"31fb":function(t,e,n){t.exports=n.p+"img/album.51c58d64.svg"},"339e":function(t,e,n){t.exports=n.p+"img/music.97dc955f.svg"},"395d":function(t,e,n){t.exports=n.p+"img/volume-mute.0ff3f79c.svg"},"3a3a":function(t,e,n){},"4b2a":function(t,e,n){"use strict";n("83e6")},"4e02":function(t,e,n){},"4f7e":function(t,e,n){"use strict";n("97fa")},"51f2":function(t,e,n){t.exports=n.p+"img/search.cb4c4886.svg"},"56d7":function(t,e,n){"use strict";n.r(e);n("12c4"),n("7c3e");var i=n("06f5"),s=n.n(i),r=(n("d93d"),n("02e5"),n("6870"),n("18e9"),n("f2cf"),n("a593")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"app-background",style:t.getBgStyle}),n("div",{staticClass:"app-background-above"},[n("left-nav"),n("middle-box"),n("right-nav")],1)])},a=[],c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left-nav"},[t._m(0),i("router-link",{staticClass:"search",attrs:{to:"/SearchListPage"}},[i("img",{staticClass:"search-icon",attrs:{src:n("51f2")}}),i("div",{staticClass:"search-text"},[t._v("搜索列表")])]),i("router-link",{staticClass:"music",attrs:{to:"/Top100Page"}},[i("img",{staticClass:"music-icon",attrs:{src:n("339e")}}),i("div",{staticClass:"music-text"},[t._v("热门歌曲")])]),i("router-link",{staticClass:"discover",attrs:{to:"/AlbumPage"}},[i("img",{staticClass:"discover-icon",attrs:{src:n("31fb")}}),i("div",{staticClass:"discover-text"},[t._v("最新专辑")])]),i("router-link",{staticClass:"album",attrs:{to:"/AlbumListPage"}},[i("img",{staticClass:"album-icon",attrs:{src:n("62a1")}}),i("div",{staticClass:"album-text"},[t._v("专辑列表")])]),i("router-link",{staticClass:"marked",attrs:{to:"/MarkedListPage"}},[i("img",{staticClass:"marked-icon",attrs:{src:n("c1b2")}}),i("div",{staticClass:"marked-text"},[t._v("收藏列表")])]),i("div",{staticClass:"playing-box"},[i("img",{style:!0===t.haveStarted?t.albumImgStyle:"",attrs:{src:t.getAlbumImgUrl}}),i("div",{staticClass:"playing-song-name"},[t._v(" "+t._s(0===t.currentList.length?"":t.currentList[t.currentListIndex].name)+" ")]),i("div",{staticClass:"playing-singer-name"},[t._v(" "+t._s(0==t.currentList.length?"":t.currentList[t.currentListIndex].artists[0].name)+" ")]),0!=t.currentList.length?i("div",{staticClass:"playing-mv-name"},[0!=t.currentList[t.currentListIndex].mvid?i("img",{staticClass:"music-mv",attrs:{title:"播放MV",src:n("ac89")},on:{click:function(e){return t.openMV()}}}):t._e()]):t._e()])],1)},u=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"logo-box"},[i("img",{attrs:{src:n("9d97"),width:"100%",height:"80px"}})])}],l=n("efe2"),m=n("7736"),d={name:"left-nav",data:function(){return{defaultAlbumImgUrl:n("0687"),albumImgUrl:null}},computed:Object(l["a"])(Object(l["a"])({},Object(m["b"])({haveStarted:function(t){return t.haveStarted},albumImgStyle:function(t){return t.albumImgStyle},currentList:function(t){return t.currentList},currentListIndex:function(t){return t.currentListIndex}})),{},{getAlbumImgUrl:function(){if(0===this.currentList.length||""===this.currentList[this.currentListIndex].album.name)this.albumImgUrl=this.defaultAlbumImgUrl;else{var t=this;setTimeout((function(){""!=t.currentList[t.currentListIndex].albumimg?t.albumImgUrl=t.currentList[t.currentListIndex].albumimg:t.albumImgUrl=t.defaultAlbumImgUrl}),300)}return this.albumImgUrl}}),methods:{openMV:function(){this.$store.commit("changMV",!0)}}},h=d,g=(n("b04c"),n("4ac2")),f=Object(g["a"])(h,c,u,!1,null,null,null),p=f.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"middle-box"},[n("top-box"),n("view-box"),n("bottom-box")],1)},b=[],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top-box"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchText,expression:"searchText",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{type:"text",placeholder:"搜索歌曲、歌手、专辑(按回车键...)"},domProps:{value:t.searchText},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchSong(e)},input:function(e){e.target.composing||(t.searchText=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])},y=[],L={name:"top-box",data:function(){return{searchText:""}},methods:{searchSong:function(){""!==this.searchText&&(this.$router.push("SearchListPage"),this.$store.commit("handleSearchSong",this.searchText))}}},S=L,C=(n("9aaa"),Object(g["a"])(S,x,y,!1,null,null,null)),k=C.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"view-box"},[n("keep-alive",[n("router-view")],1)],1)},I=[],M={name:"view-box"},_=M,U=(n("2ed1"),Object(g["a"])(_,w,I,!1,null,null,null)),P=U.exports,T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bottom-box"},[i("div",{ref:"progressBox",staticClass:"progress-box",on:{click:t.setSongDot}},[i("div",{staticClass:"progress-bar"},[i("div",{staticClass:"progressed",style:{width:null===t.duration?0:t.currentTime/t.duration*760+"px"}})]),i("div",{staticClass:"slider-dot",style:{"margin-left":(null===t.duration?-6:t.currentTime/t.duration*760-6)+"px"},on:{mousedown:t.songDotDown,mousemove:t.songDotMove}},[i("div",{staticClass:"breath-dot"})])]),i("div",{staticClass:"time-box"},[t._v(t._s(t.showTime))]),i("div",{staticClass:"speed-box"},[i("div",{staticClass:"speed-text-box",attrs:{tabindex:"0"},on:{click:function(e){t.isShowSpeedOptions=!0},blur:t.hideSpeedOptions}},[i("div",{staticClass:"speed-text"},[t._v(t._s(t.speedText))]),i("img",{attrs:{src:n("ec55")}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSpeedOptions,expression:"isShowSpeedOptions"}],staticClass:"speed-options-box"},[i("div",{staticClass:"speed-option",on:{click:function(e){return t.changeSpeed(2,"2x")}}},[t._v("2.0x")]),i("div",{staticClass:"speed-option",on:{click:function(e){return t.changeSpeed(1.5,"1.5x")}}},[t._v("1.5x")]),i("div",{staticClass:"speed-option",on:{click:function(e){return t.changeSpeed(1.25,"1.25x")}}},[t._v(" 1.25x ")]),i("div",{staticClass:"speed-option",on:{click:function(e){return t.changeSpeed(1,"1.0x")}}},[t._v("1.0x")]),i("div",{staticClass:"speed-option",on:{click:function(e){return t.changeSpeed(.75,"0.75x")}}},[t._v(" 0.75x ")]),i("div",{staticClass:"speed-option",on:{click:function(e){return t.changeSpeed(.5,"0.5x")}}},[t._v("0.5x")])])]),i("div",{staticClass:"play-mode-box"},[i("img",{attrs:{src:t.modeStateImgUrl,tabindex:"0",width:"20px",title:"模式"},on:{click:function(e){t.isShowModeOptions=!0},blur:t.hideModeOptions}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowModeOptions,expression:"isShowModeOptions"}],staticClass:"mode-options-box"},[i("div",{staticClass:"mode-option",on:{click:function(e){return t.changePlayMode("listForwardMode")}}},[i("img",{attrs:{src:n("11fd")}}),i("div",{staticClass:"mode-option-text"},[t._v("顺序播放")])]),i("div",{staticClass:"mode-option",on:{click:function(e){return t.changePlayMode("singleCycleMode")}}},[i("img",{attrs:{src:n("3065")}}),i("div",{staticClass:"mode-option-text"},[t._v("单曲循环")])]),i("div",{staticClass:"mode-option",on:{click:function(e){return t.changePlayMode("listCycleMode")}}},[i("img",{attrs:{src:n("2ef4")}}),i("div",{staticClass:"mode-option-text"},[t._v("列表循环")])]),i("div",{staticClass:"mode-option",on:{click:function(e){return t.changePlayMode("randomMode")}}},[i("img",{attrs:{src:n("dd6e")}}),i("div",{staticClass:"mode-option-text"},[t._v("随机播放")])])])]),0!=t.currentList.length?i("div",{staticClass:"download-box"},[i("a",{attrs:{href:"https://music.163.com/song/media/outer/url?id="+t.currentList[t.currentListIndex].id+".mp3",target:"_blank"}},[i("img",{staticClass:"download",attrs:{title:"下载",src:n("6369")}})])]):t._e(),i("div",{staticClass:"mark-box"},[i("img",{attrs:{src:null===t.currentList[t.currentListIndex]?this.markImgUrl:t.setMarkImgUrl,title:"收藏"},on:{click:t.markSong}})]),i("div",{staticClass:"play-contral-box"},[i("div",{staticClass:"previous-song",on:{click:t.playPreviousSong}},[i("img",{attrs:{src:n("00ed"),width:"40px"}})]),i("div",{staticClass:"palying-or-paused",on:{click:t.playContral}},[i("img",{attrs:{src:t.playStateImgUrl,width:"40px"}})]),i("div",{staticClass:"next-song",on:{click:t.playNextSong}},[i("img",{attrs:{src:n("57d8"),width:"40px"}})])]),i("div",{staticClass:"volume-box"},[i("img",{attrs:{src:t.volumeStateImgUrl,width:"24px"},on:{click:t.mute}}),i("div",{staticClass:"volume-percentage"},[t._v(" "+t._s(parseInt(t.volumeDotX/120*100)+"%")+" ")]),i("div",{ref:"volumeAdjustBox",staticClass:"volume-adjust-box",on:{click:t.setVolumeDot}},[i("div",{staticClass:"volume-adjust-bar"},[i("div",{staticClass:"volume-progressed",style:{width:t.volumeDotX+"px"}})]),i("div",{staticClass:"slider-dot",style:{"margin-left":t.volumeDotX-6+"px"},on:{mousedown:t.volumeDotDown,mousemove:t.volumeDotMove}},[i("div",{staticClass:"breath-dot"})])])]),i("audio",{attrs:{id:"audio",src:t.currentSongUrl,autoplay:""}}),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.mvShow,expression:"mvShow == true"}],staticClass:"video_con"},[i("video",{attrs:{id:"video",controls:"controls",src:t.mvurl}}),i("div",{staticClass:"mask",on:{click:function(e){return t.hideMV()}}})])])},D=[],O=(n("8931"),n("08c9"),{name:"bottom-box",data:function(){return{audio:null,video:null,currentTime:null,duration:null,isSongDotMovable:!1,isVolumeDotMovable:!1,songDotX:null,volumeDotX:24,playStateImgUrl:n("bc54"),playingImgUrl:n("803f"),pausedImgUrl:n("bc54"),volumeStateImgUrl:n("865e"),volumeImgUrl:n("865e"),volumeMuteImgUrl:n("395d"),modeStateImgUrl:n("11fd"),listForwardImgUrl:n("11fd"),singleCycleImgUrl:n("3065"),listCycleImgUrl:n("2ef4"),randomImgUrl:n("dd6e"),markImgUrl:n("c384"),markedImgUrl:n("c1b2"),isMuteNow:!1,speedText:"倍速",playSpeed:1,isShowSpeedOptions:!1,isShowModeOptions:!1}},computed:Object(l["a"])(Object(l["a"])({},Object(m["b"])({currentList:function(t){return t.currentList},currentListIndex:function(t){return t.currentListIndex},currentSongUrl:function(t){return t.currentSongUrl},markedList:function(t){return t.markedList},playMode:function(t){return t.playMode},isSearchInputOnFocus:function(t){return t.isSearchInputOnFocus},mvShow:function(t){return t.mvShow},mvurl:function(t){return t.mvurl}})),{},{showTime:function(){var t=Math.floor(this.currentTime/60),e=parseInt(this.currentTime%60),n=Math.floor(this.duration/60),i=parseInt(this.duration%60);return t+="",e+="",n+="",i+="",t=1==t.length?"0"+t:t,e=1==e.length?"0"+e:e,n=1==n.length?"0"+n:n,i=1==i.length?"0"+i:i,t+":"+e+"/"+n+":"+i},setMarkImgUrl:function(){var t=!1;if(0!==this.currentList.length){for(var e=!1,n=0;n<this.markedList.length;n++)if(this.currentList[this.currentListIndex].songmid===this.markedList[n].songmid){e=!0;break}}else t=!0;return t?this.markImgUrl:!0===e?this.markedImgUrl:this.markImgUrl}}),watch:{mvShow:function(){1==this.mvShow&&(this.audio.pause(),this.playStateImgUrl=this.pausedImgUrl,this.$store.commit("albumRotatePaused"))}},mounted:function(){localStorage.hasOwnProperty("volumeDotX")&&(this.volumeDotX=parseInt(localStorage.getItem("volumeDotX")));var t=document.querySelector("#audio");this.audio=t,this.audio.volume=this.volumeDotX/120,this.audio.playbackRate=this.playSpeed;var e=document.querySelector("#video");this.video=e,this.addAudioEventListeners()},methods:{addAudioEventListeners:function(){this.audio.addEventListener("canplay",this.getDuration),this.audio.addEventListener("timeupdate",this.getCurrentTime),this.audio.addEventListener("ended",this.autoPlayNextSong)},mouseUp:function(){this.isSongDotMovable=!1,this.isVolumeDotMovable=!1,this.audio.volume=this.volumeDotX/120,localStorage.setItem("volumeDotX",this.volumeDotX.toString())},getDuration:function(){this.duration=this.audio.duration,this.playStateImgUrl=this.playingImgUrl,this.audio.playbackRate=this.playSpeed,this.$store.commit("sendHaveStarted",!0),this.$store.commit("albumRotateRunning")},getCurrentTime:function(){this.currentTime=this.audio.currentTime,this.$store.commit("sendCurrentTime",this.currentTime)},changeCurrentTime:function(t){this.audio.currentTime=t},changeSpeed:function(t,e){this.playSpeed=t,this.audio.playbackRate=this.playSpeed,this.speedText=e,this.isShowSpeedOptions=!1},hideSpeedOptions:function(){var t=this;setTimeout((function(){t.isShowSpeedOptions=!1}),200)},changePlayMode:function(t){switch(this.$store.commit("sendPlayMode",t),t){case"listForwardMode":this.modeStateImgUrl=this.listForwardImgUrl;break;case"singleCycleMode":this.modeStateImgUrl=this.singleCycleImgUrl;break;case"listCycleMode":this.modeStateImgUrl=this.listCycleImgUrl;break;case"randomMode":this.modeStateImgUrl=this.randomImgUrl;break}},hideModeOptions:function(){var t=this;setTimeout((function(){t.isShowModeOptions=!1}),200)},markSong:function(){0!==this.currentList.length&&this.$store.commit("sendMarkedSong",this.currentList[this.currentListIndex])},playPreviousSong:function(){var t=this;"randomMode"===this.playMode?this.$store.commit("handleRandomMode"):this.$store.commit("playPreviousSong"),setTimeout((function(){t.audio.playbackRate=t.playSpeed}),1e3)},playContral:function(){0!==this.currentList.length&&this.audio.paused?(this.audio.play(),this.playStateImgUrl=this.playingImgUrl,this.$store.commit("albumRotateRunning")):(this.audio.pause(),this.playStateImgUrl=this.pausedImgUrl,this.$store.commit("albumRotatePaused"))},autoPlayNextSong:function(){var t=this;switch(this.playMode){case"listForwardMode":this.$store.commit("playNextSong");break;case"singleCycleMode":this.audio.play();break;case"listCycleMode":this.$store.commit("playNextSong");break;case"randomMode":this.$store.commit("handleRandomMode");break}setTimeout((function(){t.audio.playbackRate=t.playSpeed}),1e3)},playNextSong:function(){var t=this;"randomMode"==this.playMode?this.$store.commit("handleRandomMode"):this.$store.commit("playNextSong"),setTimeout((function(){t.audio.playbackRate=t.playSpeed}),1e3)},songDotDown:function(t){this.isSongDotMovable=!0,this.audio.removeEventListener("timeupdate",this.getCurrentTime),this.audio.volume=0},songDotMove:function(t){this.isSongDotMovable&&(this.songDotX=t.x-this.$refs.progressBox.getBoundingClientRect().left,this.songDotX<0&&(this.songDotX=0),this.songDotX>760&&(this.songDotX=760),this.audio.currentTime=this.songDotX/760*this.duration,this.audio.addEventListener("timeupdate",this.getCurrentTime))},setSongDot:function(t){this.songDotX=t.x-this.$refs.progressBox.getBoundingClientRect().left,this.audio.currentTime=this.songDotX/760*this.duration,this.audio.play()},volumeDotDown:function(){this.isVolumeDotMovable=!0},volumeDotMove:function(t){this.isVolumeDotMovable&&(this.volumeDotX=t.x-this.$refs.volumeAdjustBox.getBoundingClientRect().left,this.volumeDotX<0&&(this.volumeDotX=0),this.volumeDotX>120&&(this.volumeDotX=120),this.audio.volume=this.volumeDotX/120)},setVolumeDot:function(t){this.volumeDotX=t.x-this.$refs.volumeAdjustBox.getBoundingClientRect().left,this.volumeDotX<0&&(this.volumeDotX=0),this.volumeDotX>120&&(this.volumeDotX=120),this.audio.volume=this.volumeDotX/120},mute:function(){0==this.isMuteNow?(this.audio.volume=0,this.lastVolumeDotX=this.volumeDotX,this.volumeDotX=0,this.isMuteNow=!0,this.volumeStateImgUrl=this.volumeMuteImgUrl):(this.volumeDotX=this.lastVolumeDotX,this.audio.volume=this.volumeDotX/120,this.isMuteNow=!1,this.volumeStateImgUrl=this.volumeImgUrl)},hideMV:function(){this.$store.commit("changMV",!1),this.video.pause()}}}),$=O,A=(n("cf7f"),Object(g["a"])($,T,D,!1,null,null,null)),j=A.exports,X={name:"middle-box",components:{TopBox:k,BottomBox:j,ViewBox:P}},E=X,N=(n("4b2a"),Object(g["a"])(E,v,b,!1,null,null,null)),R=N.exports,B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"right-bar"},[i("div",{staticClass:"switch-page"},[i("img",{directives:[{name:"show",rawName:"v-show",value:"lyric"==t.showPage,expression:"showPage == 'lyric'"}],staticClass:"lyric-icon",attrs:{title:"歌词",src:n("1150")},on:{click:function(e){return t.changeLyric()}}}),i("img",{directives:[{name:"show",rawName:"v-show",value:"lyric"!=t.showPage,expression:"showPage != 'lyric'"}],staticClass:"lyric-icon",attrs:{title:"歌词",src:n("2b47")},on:{click:function(e){return t.changeLyric()}}}),i("img",{directives:[{name:"show",rawName:"v-show",value:"comment"==t.showPage,expression:"showPage == 'comment'"}],staticClass:"comment-icon",attrs:{title:"评论",src:n("ae1f")},on:{click:function(e){return t.changeComment()}}}),i("img",{directives:[{name:"show",rawName:"v-show",value:"comment"!=t.showPage,expression:"showPage != 'comment'"}],staticClass:"comment-icon",attrs:{title:"评论",src:n("cf89")},on:{click:function(e){return t.changeComment()}}})]),"lyric"==t.showPage?i("div",{staticClass:"page"},[i("lyric-page")],1):t._e(),"comment"==t.showPage?i("div",{staticClass:"page"},[i("comment-page")],1):t._e()])},V=[],F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"lyricPage",staticClass:"lyric-page"},[t._l(t.lyricTextArr,(function(e,i){return 0!=t.lyricTextArr.length?n("div",{key:i,staticClass:"lyric-item"},[n("div",{staticClass:"lyric-text-line",style:t.setplayingLyricStyle(e,i)},[t._v(" "+t._s(e.text)+" ")])]):t._e()})),0==t.lyricTextArr.length?n("div",{staticClass:"lyric-item"},[n("div",{staticClass:"tip"},[t._v(" 暂无歌词 ")])]):t._e()],2)},H=[],q={name:"lyric-page",data:function(){return{playingLyricStytle:{transform:"scale(1.3)",color:"darkorange",fontWeight:"bolder"},currentLyricIndex:0,scrollTop:0}},computed:Object(l["a"])({},Object(m["b"])({lyricTextArr:function(t){return t.lyricTextArr},currentTime:function(t){return t.currentTime}})),watch:{currentLyricIndex:function(){this.$refs.lyricPage.scrollTop=0,this.currentLyricIndex>15&&(this.$refs.lyricPage.scrollTop=40*(this.currentLyricIndex-15))}},methods:{setplayingLyricStyle:function(t,e){if(this.currentTime>t.time&&(e===this.lyricTextArr.length-1||this.currentTime<this.lyricTextArr[e+1].time))return this.currentLyricIndex=e,this.playingLyricStytle}}},J=q,z=(n("7c5f"),Object(g["a"])(J,F,H,!1,null,null,null)),K=z.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"CommentPage",staticClass:"comment-page"},[t._l(t.songComments,(function(e,i){return 0!=t.songComments.length?n("div",{key:i,staticClass:"comment-item"},[n("div",{staticClass:"pic"},[n("img",{staticClass:"avatar",attrs:{src:e.user.avatarUrl,alt:""}})]),n("div",{staticClass:"comment"},[n("div",{staticClass:"comment-info"},[n("div",{staticClass:"comment-nickname"},[n("p",[t._v(t._s(e.user.nickname))])]),n("div",{staticClass:"comment-time"},[n("p",[t._v(t._s(t._f("timeFilter")(e.time)))])])]),n("div",{staticClass:"comment-content"},[n("p",[t._v(t._s(e.content))])])])]):t._e()})),0==t.songComments.length?n("div",[n("div",{staticClass:"tip"},[t._v(" 暂无评论 ")])]):t._e()],2)},G=[];n("4856"),n("854f");function Q(t){var e=new Date(1*parseInt(t));if(e=e.toLocaleString().replace(/年|月/g,"-").replace(/日/g," "),e.indexOf("下午")>0)if(18==e.length){var n=e.substring(0,e.indexOf("下午")),i=e.substring(e.indexOf("下午")+2,e.length),s=i.substring(0,1),r=parseInt(s);r=12+r;var o=r+i.substring(1,i.length);e=n+o,e=e.replace("/","-"),e=e.replace("/","-")}else{n=e.substring(0,e.indexOf("下午")),i=e.substring(e.indexOf("下午")+2,e.length),s=i.substring(0,2);12==s&&(s-=12);r=parseInt(s);r=12+r;o=r+i.substring(2,i.length);e=n+o,e=e.replace("/","-"),e=e.replace("/","-")}else{n=e.substring(0,e.indexOf("上午")),i=e.substring(e.indexOf("上午")+2,e.length),s=i.substring(0,1);var a=1;r=parseInt(s);if(0==r)r="0"+r;else if(1==r){a=2;var c=i.substring(1,2);r=":"!=c?r+""+c:"0"+r}else r="0"+r;o=r+i.substring(a,i.length);e=n+o,e=e.replace("/","-"),e=e.replace("/","-")}return e}var Y={name:"comment-page",data:function(){return{}},computed:Object(l["a"])({},Object(m["b"])({songComments:function(t){return t.songComments}})),filters:{timeFilter:function(t){return Q(t)}}},Z=Y,tt=(n("a826"),Object(g["a"])(Z,W,G,!1,null,null,null)),et=tt.exports,nt={name:"right-bar",components:{LyricPage:K,CommentPage:et},data:function(){return{showPage:"lyric"}},methods:{changeLyric:function(){"lyric"!=this.showPage&&(this.showPage="lyric")},changeComment:function(){"comment"!=this.showPage&&(this.showPage="comment",this.$store.commit("getSongComment"))}}},it=nt,st=(n("4f7e"),Object(g["a"])(it,B,V,!1,null,null,null)),rt=st.exports,ot={name:"app",components:{LeftNav:p,MiddleBox:R,RightNav:rt},data:function(){return{defaultAlbumImgUrl:n("0687"),albumImgUrl:null,bgStyle:{}}},computed:{getBgStyle:function(){var t=this;if(0==this.$store.state.currentList.length||""==this.$store.state.currentList[this.$store.state.currentListIndex].album)this.albumImgUrl=this.defaultAlbumImgUrl;else{var e=this;setTimeout((function(){""!=e.$store.state.currentList[e.$store.state.currentListIndex].albumimg?e.albumImgUrl=e.$store.state.currentList[e.$store.state.currentListIndex].albumimg:e.albumImgUrl=e.defaultAlbumImgUrl}),300)}return setTimeout((function(){t.bgStyle={"background-image":"url("+t.albumImgUrl+")"}}),1500),this.bgStyle}},mounted:function(){this.$store.commit("getHistoryData"),this.$router.push("Top100Page")}},at=ot,ct=(n("034f"),Object(g["a"])(at,o,a,!1,null,null,null)),ut=ct.exports,lt=(n("3b2f"),n("cb0b"),n("8aaf"));r["default"].use(lt["a"]);var mt=function(){return n.e("chunk-0e12ea40").then(n.bind(null,"a729"))},dt=function(){return n.e("chunk-4752b205").then(n.bind(null,"d8da"))},ht=function(){return n.e("chunk-f39b2ec0").then(n.bind(null,"2c3eb"))},gt=function(){return n.e("chunk-69062070").then(n.bind(null,"851e"))},ft=function(){return n.e("chunk-4a1c2e7c").then(n.bind(null,"6a47"))},pt=[{path:"/Top100Page",component:dt},{path:"/SearchListPage",component:mt},{path:"/MarkedListPage",component:ht},{path:"/AlbumPage",component:gt},{path:"/AlbumListPage",component:ft}],vt=new lt["a"]({routes:pt}),bt=vt,xt=n("e7e7"),yt=(n("4b1c"),n("ff27"),n("e791"),n("b2a7"),n("a8b8"),n("5976")),Lt=n.n(yt);function St(t){var e=Lt.a.create({baseURL:Object.is("production","production")?"http://prochick.top:3000/":"http://localhost:3000/",timeout:1e4});return e(t)}function Ct(t,e){return St({url:"search",params:{keywords:t,limit:30,type:1,offset:e}})}function kt(){return St({url:"personalized/newsong",params:{limit:66}})}function wt(){return St({url:"album/newest"})}function It(t){return St({url:"album",params:{id:t}})}function Mt(t){return St({url:"song/url",params:{id:t}})}function _t(t){return St({url:"lyric",params:{id:t}})}function Ut(t){return St({url:"album",params:{id:t}})}function Pt(t){return St({url:"mv/url",params:{id:t}})}function Tt(t){return St({url:"comment/music",params:{id:t,limit:50,offset:0}})}r["default"].use(m["a"]);var Dt=new m["a"].Store({state:{currentList:[],currentListIndex:null,searchList:[],top100List:[],markedList:[],newAlbums:[],albumMusicList:[],isPlayingMarkedListSong:!1,currentSongUrl:"",playMode:"listForwardMode",haveStarted:!1,albumImgStyle:{},haveSearched:!1,searchText:"",currentPage:0,loadMoreText:"加载更多",canLoadMore:!0,lyricTextArr:[],songComments:[],currentTime:null,isSearchInputOnFocus:!1,mvShow:!1,mvurl:""},mutations:{getHistoryData:function(t){localStorage.hasOwnProperty("markedList")&&(t.markedList=JSON.parse(localStorage.getItem("markedList")))},sendCurrentIndex:function(t,e){switch(t.currentListIndex=e.index,e.activatedPage){case"searchListPage":t.currentList=t.searchList,t.isPlayingMarkedListSong=!1;break;case"top100Page":t.currentList=t.top100List,t.isPlayingMarkedListSong=!1;break;case"markedListPage":t.currentList=t.markedList,t.isPlayingMarkedListSong=!0;break;case"albumListPage":t.currentList=t.albumMusicList,t.isPlayingMarkedListSong=!0;break}},changMV:function(t,e){1==e?Pt(t.currentList[t.currentListIndex].mvid).then((function(n){t.mvurl=n.data.data.url,t.mvShow=e})).catch((function(t){s.a.error({message:"无法获取MV资源，请检查网络后重试！",showClose:!0})})):t.mvShow=e},getSongComment:function(t){0!=t.currentList.length&&null!=t.currentListIndex&&Tt(t.currentList[t.currentListIndex].id).then((function(e){t.songComments=e.data.comments})).catch((function(t){s.a.error({message:"歌曲评论获取失败，请检查网络后重试！",showClose:!0})}))},sendPlayMode:function(t,e){t.playMode=e},sendHaveStarted:function(t,e){t.haveStarted=e},sendCurrentTime:function(t,e){t.currentTime=e},sendMarkedSong:function(t,e){if(0===t.markedList.length)t.markedList.push(e);else{for(var n=!1,i=0;i<t.markedList.length;i++)if(t.markedList[i].songmid===e.songmid){t.markedList.splice(i,1),n=!0,!0===t.isPlayingMarkedListSong&&(t.currentListIndex-=1,t.currentListIndex<0&&(t.currentListIndex=0),0!==t.currentList.length&&this.commit("getSongUrlAndLyric"));break}!1===n&&t.markedList.unshift(e)}localStorage.setItem("markedList",JSON.stringify(t.markedList))},albumRotateRunning:function(t){t.albumImgStyle={animation:"albumRotate 20s linear infinite running"}},albumRotatePaused:function(t){t.albumImgStyle={animation:"albumRotate 20s linear infinite paused"}},handleTop100List:function(t){kt().then((function(e){var n=e.data.result,i=[];0!=n.length&&n.forEach((function(t){i.push(t.song)})),t.top100List=i})).catch((function(t){s.a.error({message:"热门歌曲获取失败，请检查网络后重试！",showClose:!0})}))},handleHotAlbumList:function(t){wt().then((function(e){t.newAlbums=e.data.albums})).catch((function(t){s.a.error({message:"热门专辑获取失败，请检查网络后重试！",showClose:!0})}))},getAlbumMusic:function(t,e){It(e).then((function(e){var n=e.data.songs,i=[];n.forEach((function(t){var e={id:t.id,name:t.name,mvid:t.mv,album:{name:t.al.name,id:t.al.id},artists:[{name:t.ar[0].name}]};i.push(e)})),t.albumMusicList=i})).catch((function(t){s.a.error({message:"歌曲列表获取失败，请检查网络后重试！",showClose:!0})}))},handleSearchSong:function(t,e){t.searchText=e,Ct(t.searchText,0).then((function(e){t.searchList=e.data.result.songs,t.haveSearched=!0})).catch((function(t){s.a.error({message:"歌曲获取失败，请检查网络后重试！",showClose:!0})}))},handleLoadMore:function(t){t.canLoadMore&&(t.currentPage+=1,Ct(t.searchText,t.currentPage).then((function(e){var n,i,s=e.data.result.songs;s.length<30?(t.loadMoreText="已到达底线，再也加载不出来了",(n=t.searchList).push.apply(n,Object(xt["a"])(e.data.result.songs)),t.canLoadMore=!1):(i=t.searchList).push.apply(i,Object(xt["a"])(e.data.result.songs))})).catch((function(t){s.a.error({message:"歌曲获取失败，请检查网络后重试！",showClose:!0})})))},getSongUrlAndLyric:function(t){var e=this;Mt(t.currentList[t.currentListIndex].id).then((function(n){t.currentSongUrl=n.data.data[0].url,""==t.currentSongUrl&&(s.a.error({message:"无法获取音乐资源，可能为付费音乐或其他原因",showClose:!0}),e.commit("albumRotatePaused"))})).catch((function(t){s.a.error({message:"无法获取音乐资源，可能为付费音乐或其他原因",showClose:!0})})),_t(t.currentList[t.currentListIndex].id).then((function(e){var n=e.data.lrc.lyric,i=n.split("\n");t.lyricTextArr=[],i.forEach((function(e){var n=e.substring(e.indexOf("[")+1,e.indexOf("]")),i={time:(60*n.split(":")[0]+parseFloat(n.split(":")[1])).toFixed(2),text:e.substring(e.indexOf("]")+1,e.length)};t.lyricTextArr.push(i)}))})).catch((function(t){s.a.error({message:"无法获取歌词资源，可能由于网络原因！",showClose:!0})})),Ut(t.currentList[t.currentListIndex].album.id).then((function(e){t.currentList[t.currentListIndex].albumimg=e.data.album.picUrl})).catch((function(e){t.currentList[t.currentListIndex].albumimg=n("0687")}))},playPreviousSong:function(t){t.currentListIndex-=1,t.currentListIndex>=0?this.commit("getSongUrlAndLyric"):t.currentListIndex=0},playCurrentSong:function(){this.commit("getSongUrlAndLyric")},playNextSong:function(t){t.currentListIndex+=1,t.currentListIndex<t.currentList.length?this.commit("getSongUrlAndLyric"):"listCycleMode"===t.playMode?(t.currentListIndex=0,this.commit("getSongUrlAndLyric")):(t.currentListIndex=t.currentList.length-1,this.commit("albumRotatePaused"))},handleRandomMode:function(t){var e=Math.floor(Math.random()*t.currentList.length);t.currentListIndex=e,this.commit("getSongUrlAndLyric")}},actions:{},modules:{}});n("9f35"),n("eeee");r["default"].component(s.a.name,s.a),r["default"].config.productionTip=!1,r["default"].prototype.$EventBus=new r["default"];var Ot=lt["a"].prototype.push;lt["a"].prototype.push=function(t){return Ot.call(this,t).catch((function(t){return t}))},new r["default"]({router:bt,store:Dt,render:function(t){return t(ut)}}).$mount("#app")},"57d8":function(t,e,n){t.exports=n.p+"img/next-song.88802abb.svg"},"62a1":function(t,e,n){t.exports=n.p+"img/album_list.8160e24f.svg"},6369:function(t,e,n){t.exports=n.p+"img/download.3b4fb852.svg"},"7c5f":function(t,e,n){"use strict";n("ff62")},"803f":function(t,e,n){t.exports=n.p+"img/playing.19507806.svg"},"83e6":function(t,e,n){},"865e":function(t,e,n){t.exports=n.p+"img/volume.c9314704.svg"},"97fa":function(t,e,n){},"9aaa":function(t,e,n){"use strict";n("1f46")},"9d97":function(t,e,n){t.exports=n.p+"img/mylogo.4a5ca9d4.png"},a826:function(t,e,n){"use strict";n("4e02")},ac89:function(t,e,n){t.exports=n.p+"img/mv.d3b3d3c8.svg"},ae1f:function(t,e,n){t.exports=n.p+"img/comment_blur.14703d1a.svg"},b04c:function(t,e,n){"use strict";n("3a3a")},bc54:function(t,e,n){t.exports=n.p+"img/paused.a4dbb3f0.svg"},c1b2:function(t,e,n){t.exports=n.p+"img/marked.8f0523c3.svg"},c384:function(t,e,n){t.exports=n.p+"img/mark.61fcf41f.svg"},cf7f:function(t,e,n){"use strict";n("136e")},cf89:function(t,e,n){t.exports=n.p+"img/comment.4d5df94c.svg"},dd6e:function(t,e,n){t.exports=n.p+"img/random.d4c00cca.svg"},e798:function(t,e,n){},ec55:function(t,e,n){t.exports=n.p+"img/arrow-up.0116b440.svg"},ff62:function(t,e,n){}});
//# sourceMappingURL=app.5bcb2ae0.js.map